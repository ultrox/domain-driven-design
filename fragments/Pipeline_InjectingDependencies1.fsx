// low-level helper functions
let toAddress checkAddressExists unvalidatedAddress =
  ...

let toProductCode checkProductCodeExists productCode = 
  ...
